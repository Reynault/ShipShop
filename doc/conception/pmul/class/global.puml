@startuml

title Global diagram

class Observer{

}

class Observable{

}

package model{

    class ShipShop{
        + createGame(era: Era, tactic: Tactic)
        + saveCurrentGame()
        + loadGame()
    }

    package game{

        abstract Game{
            - currentPlayer: int
            + Game(era: Era)
        }

        class GameWithIA{
            + Game(era: Era, tactic: Tactic)
        }

        class ArmyFactory{
            + getIAArmy()
            + getHumanArmy()
        }

        class Army{

        }

        abstract SaveManager{

        }

        class FileSaveManager{

        }

        package grid{

            abstract Grid{
            }

            class SimpleGrid{

            }

            abstract Tile{
                - hasBeenHit: boolean
            }

            class SimpleTile{

            }

        }

        package ship{

            class Ship{

            }

            abstract FleetFactory{

            }

            class ModernFleet{

            }

            class XVIFleet{

            }

        }


        package era{

            class Era{
                - {final} name: String
                - Era(name: String)
                + getName(): String
            }

            class EraFactory{
                + getModernEra()
                + getXVIEra()
            }

        }

        package player{

            abstract Player{

            }

            class IA{

            }

            package Tactic{

                interface Tactic{

                }

                class RandomTactic{

                }

                class CrossTactic{

                }

            }

            class Human{

            }

        }

    }

}

ShipShop --> "1" Game: - game
ShipShop --> "1" SaveManager: -saveManager

Game --> "*" Army: - armies

Grid --> "*" Ship: - ships
Grid --> "*" Tile

FleetFactory ..> Ship: "create"

SimpleGrid --|> Grid
SimpleTile --|> Tile

ArmyFactory ..>  Army: "create"

Army --> "1" Player: - player
Army --> "1" FleetFactory: - fleet
Army --> "1" Grid: -grid

GameWithIA --|> Game

EraFactory --> "1" Era: -modern
EraFactory --> "1" Era: -XVI

ModernFleet --|> FleetFactory
XVIFleet --|> FleetFactory

Human --|> Player
IA --|> Player

IA --> "1" Tactic: - tactic

RandomTactic ..|> Tactic
CrossTactic ..|> Tactic

FileSaveManager --|> SaveManager

@enduml